{
  "version": 3,
  "sources": ["../../../src/signers/raw-signer.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2b';\nimport type { Keypair } from '../cryptography/keypair.js';\nimport type { SerializedSignature } from '../cryptography/signature.js';\nimport type { JsonRpcProvider } from '../providers/json-rpc-provider.js';\nimport type { SuiAddress } from '../types/index.js';\nimport { SignerWithProvider } from './signer-with-provider.js';\nimport { toSerializedSignature } from '../cryptography/utils.js';\n\nexport class RawSigner extends SignerWithProvider {\n\tprivate readonly keypair: Keypair;\n\n\tconstructor(keypair: Keypair, provider: JsonRpcProvider) {\n\t\tsuper(provider);\n\t\tthis.keypair = keypair;\n\t}\n\n\tasync getAddress(): Promise<SuiAddress> {\n\t\treturn this.keypair.getPublicKey().toSuiAddress();\n\t}\n\n\tasync signData(data: Uint8Array): Promise<SerializedSignature> {\n\t\tconst pubkey = this.keypair.getPublicKey();\n\t\tconst digest = blake2b(data, { dkLen: 32 });\n\t\tconst signature = this.keypair.signData(digest);\n\t\tconst signatureScheme = this.keypair.getKeyScheme();\n\n\t\treturn toSerializedSignature({\n\t\t\tsignatureScheme,\n\t\t\tsignature,\n\t\t\tpubKey: pubkey,\n\t\t});\n\t}\n\n\tconnect(provider: JsonRpcProvider): SignerWithProvider {\n\t\treturn new RawSigner(this.keypair, provider);\n\t}\n}\n"],
  "mappings": "AAGA,SAAS,eAAe;AAKxB,SAAS,0BAA0B;AACnC,SAAS,6BAA6B;AAE/B,MAAM,kBAAkB,mBAAmB;AAAA,EAGjD,YAAY,SAAkB,UAA2B;AACxD,UAAM,QAAQ;AACd,SAAK,UAAU;AAAA,EAChB;AAAA,EAEA,MAAM,aAAkC;AACvC,WAAO,KAAK,QAAQ,aAAa,EAAE,aAAa;AAAA,EACjD;AAAA,EAEA,MAAM,SAAS,MAAgD;AAC9D,UAAM,SAAS,KAAK,QAAQ,aAAa;AACzC,UAAM,SAAS,QAAQ,MAAM,EAAE,OAAO,GAAG,CAAC;AAC1C,UAAM,YAAY,KAAK,QAAQ,SAAS,MAAM;AAC9C,UAAM,kBAAkB,KAAK,QAAQ,aAAa;AAElD,WAAO,sBAAsB;AAAA,MAC5B;AAAA,MACA;AAAA,MACA,QAAQ;AAAA,IACT,CAAC;AAAA,EACF;AAAA,EAEA,QAAQ,UAA+C;AACtD,WAAO,IAAI,UAAU,KAAK,SAAS,QAAQ;AAAA,EAC5C;AACD;",
  "names": []
}
